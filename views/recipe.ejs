<% if(recipe !=null ) { %>

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">
      <%- recipe.name %>
    </li>
  </ol>
</nav>

<div class="row">
  <div class="col-12 col-lg-4">
    <img
      src="/uploads/<%- recipe.image %>"
      class="img-fluid"
      style="top: 20px; border-radius: 25% 10%"
      alt="<%- recipe.name %>"
      loading="lazy"
    />
  </div>

  <div class="col-12 col-md-8">
    <div class="row">
      <div class="col-12">
        <h1><%- recipe.name %></h1>
      </div>

      <div class="col-6" style="white-space: pre-line">
        <h4>Number Of Calories: <%- recipe.calories %></h4>
      </div>

      <div class="col-6" style="white-space: pre-line">
        <h4>Number Of Protein: <%- recipe.protein %>g</h4>
      </div>

      <div class="col-12 mb-4">
        <i class="bi bi-tag"></i> <%- recipe.category %>
      </div>
      <div class="col-12" style="white-space: pre-line">
        <h4>Cooking Instructions</h4>
        <%- recipe.description %>
      </div>
    </div>

    <div class="row pt-4">
      <div class="col-12">
        <h4>Ingredients</h4>
        <ul class="list-group list-group-flush mb-4">
          <% recipe.ingredients.forEach(function(ingredients, index){ %>
          <li class="list-group-item"><%= ingredients %></li>
          <% }) %>
        </ul>
      </div>
    </div>

    <div class="col-12 mb-4">
      <h4>Youtube Video:</h4>
      <a href="<%- recipe.video %>" target="_blank"><%- recipe.name %></a>
    </div>

    <div class="row">
      <div class="col-6">
        <a href="" class="btn btn-outline-dark">Edit Recipe</a>
      </div>
      <div class="col-6">
        <form action="/delete-recipe/<%= recipe._id %>" method="post">
          <button
            type="submit"
            class="btn btn-outline-danger"
            onclick="confirmDelete()"
          >
            Delete Recipe
          </button>

          <script>
            function confirmDelete() {
              if (confirm("Are you sure you want to delete this recipe?")) {
                // If the user clicks OK on the prompt, submit the form
                document.querySelector("form").submit();
              } else {
                // If the user clicks Cancel on the prompt, prevent the form submission
                event.preventDefault();
              }
            }
          </script>
        </form>
      </div>
    </div>

    <div class="row pt-4">
      <div class="col-12"></div>
    </div>
  </div>
</div>
<% } else { %>
<p>No item found.</p>
<% } %>
